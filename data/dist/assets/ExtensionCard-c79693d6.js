import{C as D,r as F,o,c,w as t,b as n,q as d,t as l,a1 as C,e as r,x as w,f as h,y as $,g as i,V as p,m as V,A as b,H as E,v as s,U as B,ac as q,E as z,ad as H,ae as P}from"./index-11f1cd8c.js";import{_ as O}from"./_plugin-vue_export-helper-c27b6911.js";const R=e=>(H("data-v-71544c7f"),e=e(),P(),e),U={class:"flex-grow-1"},W=R(()=>d("span",null,"该插件已经被禁用",-1)),G={class:"mt-1 d-flex flex-wrap"},J={key:0,class:"extension-image-container"},K=["src"],L={class:"d-flex align-center mb-4"},Q=["src"],X=D({__name:"ExtensionCard",props:{extension:{type:Object,required:!0},marketMode:{type:Boolean,default:!1},highlight:{type:Boolean,default:!1}},emits:["configure","update","reload","install","uninstall","toggle-activation","view-handlers"],setup(e,{emit:f}){const y=e,M=a=>{window.open(a,"_blank")},k=F(!1),j=()=>{f("configure",y.extension)},I=()=>{f("update",y.extension)},S=()=>{f("reload",y.extension)},A=()=>{f("uninstall",y.extension)},N=()=>{f("toggle-activation",y.extension)},T=()=>{f("view-handlers",y.extension)};return(a,x)=>(o(),c(z,{class:"mx-auto d-flex flex-column",elevation:e.highlight?0:1,style:b({height:a.$vuetify.display.xs?"250px":"220px",backgroundColor:e.highlight?"#FAF0DB":"#ffffff",color:e.highlight?"#000":"#000000"})},{default:t(()=>[n(E,{style:{padding:"16px","padding-bottom":"0px",display:"flex","justify-content":"space-between"}},{default:t(()=>{var u,m,g;return[d("div",U,[d("div",null,l(e.extension.author)+" /",1),d("p",{class:C(["text-h3 font-weight-black",{"text-h4":a.$vuetify.display.xs}])},[r(l(e.extension.name)+" ",1),(u=e.extension)!=null&&u.has_update&&!e.marketMode?(o(),c(w,{key:0,location:"top"},{activator:t(({props:v})=>[n(h,$(v,{color:"warning",class:"ml-2",icon:"mdi-update",size:"small"}),null,16)]),default:t(()=>[d("span",null,"有新版本可用: "+l(e.extension.online_version),1)]),_:1})):i("",!0),!e.extension.activated&&!e.marketMode?(o(),c(w,{key:1,location:"top"},{activator:t(({props:v})=>[n(h,$(v,{color:"error",class:"ml-2",icon:"mdi-cancel",size:"small"}),null,16)]),default:t(()=>[W]),_:1})):i("",!0)],2),d("div",G,[n(p,{color:"primary",label:"",size:"small"},{default:t(()=>[n(h,{icon:"mdi-source-branch",start:""}),r(" "+l(e.extension.version),1)]),_:1}),(m=e.extension)!=null&&m.has_update?(o(),c(p,{key:0,color:"warning",label:"",size:"small",class:"ml-2"},{default:t(()=>[n(h,{icon:"mdi-arrow-up-bold",start:""}),r(" "+l(e.extension.online_version),1)]),_:1})):i("",!0),(g=e.extension.handlers)!=null&&g.length?(o(),c(p,{key:1,color:"primary",label:"",size:"small",class:"ml-2"},{default:t(()=>{var v;return[n(h,{icon:"mdi-cogs",start:""}),r(" "+l((v=e.extension.handlers)==null?void 0:v.length)+"个行为 ",1)]}),_:1})):i("",!0)]),d("div",{class:C(["mt-2",{"text-caption":a.$vuetify.display.xs}]),style:{"max-height":"65px","overflow-y":"auto"}},l(e.extension.desc),3)]),e.extension.logo?(o(),V("div",J,[d("img",{src:e.extension.logo,style:b({height:a.$vuetify.display.xs?"75px":"100px",width:a.$vuetify.display.xs?"75px":"100px",borderRadius:"8px",objectFit:"cover",objectPosition:"center"}),alt:"logo"},null,12,K)])):i("",!0)]}),_:1}),n(B,{style:{padding:"0px","margin-top":"auto"}},{default:t(()=>{var u,m;return[n(s,{color:"teal-accent-4",text:"帮助",variant:"text",onClick:x[0]||(x[0]=g=>M(e.extension.repo))}),e.marketMode?i("",!0):(o(),c(s,{key:0,color:"teal-accent-4",text:"操作",variant:"text",onClick:x[1]||(x[1]=g=>k.value=!0)})),e.marketMode&&!((u=e.extension)!=null&&u.installed)?(o(),c(s,{key:1,color:"teal-accent-4",text:"安装",variant:"text",onClick:x[2]||(x[2]=g=>f("install",e.extension))})):i("",!0),e.marketMode&&((m=e.extension)!=null&&m.installed)?(o(),c(s,{key:2,color:"teal-accent-4",text:"已安装",variant:"text",disabled:""})):i("",!0)]}),_:1}),e.marketMode?i("",!0):(o(),c(q,{key:0},{default:t(()=>[k.value?(o(),c(z,{key:0,class:"position-absolute w-100",height:"100%",style:{bottom:"0",display:"flex","flex-direction":"column"}},{default:t(()=>[n(E,{style:{"overflow-y":"auto"}},{default:t(()=>{var u;return[d("div",L,[e.extension.logo?(o(),V("img",{key:0,src:e.extension.logo,style:{height:"50px",width:"50px","border-radius":"8px","margin-right":"16px"},alt:"扩展图标"},null,8,Q)):i("",!0),d("h3",null,l(e.extension.name),1)]),d("div",{class:"mt-4",style:b({justifyContent:"center",display:"flex",alignItems:"center",flexWrap:"wrap",gap:"8px",flexDirection:a.$vuetify.display.xs?"column":"row"})},[n(s,{"prepend-icon":"mdi-cog",color:"primary",variant:"tonal",onClick:j,block:a.$vuetify.display.xs},{default:t(()=>[r(" 插件配置 ")]),_:1},8,["block"]),n(s,{"prepend-icon":"mdi-delete",color:"error",variant:"tonal",onClick:A,block:a.$vuetify.display.xs},{default:t(()=>[r(" 卸载插件 ")]),_:1},8,["block"]),n(s,{"prepend-icon":"mdi-reload",color:"primary",variant:"tonal",onClick:S,block:a.$vuetify.display.xs},{default:t(()=>[r(" 重载插件 ")]),_:1},8,["block"]),n(s,{"prepend-icon":e.extension.activated?"mdi-cancel":"mdi-check-circle",color:e.extension.activated?"error":"success",variant:"tonal",onClick:N,block:a.$vuetify.display.xs},{default:t(()=>[r(l(e.extension.activated?"禁用":"启用")+"插件 ",1)]),_:1},8,["prepend-icon","color","block"]),n(s,{"prepend-icon":"mdi-cogs",color:"info",variant:"tonal",onClick:T,block:a.$vuetify.display.xs},{default:t(()=>[r(" 查看行为 ("+l(e.extension.handlers.length)+") ",1)]),_:1},8,["block"]),n(s,{"prepend-icon":"mdi-update",color:"primary",variant:"tonal",disabled:!((u=e.extension)!=null&&u.has_update),onClick:I,block:a.$vuetify.display.xs},{default:t(()=>[r(" 更新到 "+l(e.extension.online_version||e.extension.version),1)]),_:1},8,["disabled","block"])],4)]}),_:1}),n(B,{class:"pt-0 d-flex justify-center"},{default:t(()=>[n(s,{color:"teal-accent-4",text:"返回",variant:"text",onClick:x[3]||(x[3]=u=>k.value=!1)})]),_:1})]),_:1})):i("",!0)]),_:1}))]),_:1},8,["elevation","style"]))}});const _=O(X,[["__scopeId","data-v-71544c7f"]]);export{_ as E};
